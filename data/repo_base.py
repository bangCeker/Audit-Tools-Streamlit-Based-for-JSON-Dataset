# data/repo_base.py
from typing import Protocol, Dict, Any, List, Optional


class DatasetRepo(Protocol):
    def count(self, table: str, **filters) -> int: ...
    def query(self, table: str, limit: int, offset: int, **filters) -> List[Dict[str, Any]]: ...
    def get_by_id(self, table: str, rid: int) -> Optional[Dict[str, Any]]: ...
    def update(self, table: str, rid: int, **payload) -> None: ...
    def adjacent_id(self, table: str, rid: int, direction: str, **filters) -> Optional[int]: ...
